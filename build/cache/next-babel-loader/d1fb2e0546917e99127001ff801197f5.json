{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styles from '@/styles/System/WindowManager/Window.module.scss';\nimport TitleBar from '@/components/System/WindowManager/TitleBar';\nimport { focusOnDrag, focusResizableElementRef } from '@/utils/elements';\nimport { resizeHandleClasses } from '@/utils/window';\nimport { Rnd } from 'react-rnd';\nimport { SessionContext } from '@/contexts/SessionManager';\nimport { useContext, useEffect, useRef } from 'react';\n\nvar Window = function Window(_ref) {\n  var children = _ref.children,\n      _ref$icon = _ref.icon,\n      icon = _ref$icon === void 0 ? '' : _ref$icon,\n      id = _ref.id,\n      _ref$name = _ref.name,\n      name = _ref$name === void 0 ? '' : _ref$name,\n      bgColor = _ref.bgColor,\n      onMaximize = _ref.onMaximize,\n      onMinimize = _ref.onMinimize,\n      onClose = _ref.onClose,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      onDrag = _ref.onDrag,\n      onResize = _ref.onResize,\n      lockAspectRatio = _ref.lockAspectRatio,\n      zIndex = _ref.zIndex,\n      maximized = _ref.maximized,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 0 : _ref$height,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 0 : _ref$width;\n\n  var _useContext = useContext(SessionContext),\n      foregroundId = _useContext.session.foregroundId;\n\n  var windowRef = useRef(null);\n  useEffect(function () {\n    focusResizableElementRef(windowRef);\n  }, []);\n  return /*#__PURE__*/_jsxs(Rnd, {\n    ref: windowRef,\n    enableUserSelectHack: false,\n    className: \"\".concat(styles.window, \" \").concat(maximized ? styles.maximized : '', \" \").concat(foregroundId === id ? styles.foreground : ''),\n    dragHandleClassName: \"handle\",\n    resizeHandleClasses: resizeHandleClasses(styles),\n    cancel: \".cancel\",\n    size: {\n      height: maximized ? '100%' : height,\n      width: maximized ? '100%' : width\n    },\n    minHeight: 250,\n    minWidth: 250,\n    tabIndex: -1,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onDragStart: focusOnDrag,\n    onDragStop: onDrag,\n    onResizeStop: onResize,\n    enableResizing: !maximized,\n    disableDragging: maximized,\n    lockAspectRatio: lockAspectRatio,\n    style: {\n      zIndex: zIndex\n    },\n    children: [/*#__PURE__*/_jsx(TitleBar, {\n      icon: icon,\n      name: name,\n      onMaximize: onMaximize,\n      onMinimize: onMinimize,\n      onClose: onClose\n    }), /*#__PURE__*/_jsx(\"article\", {\n      className: styles.content,\n      style: {\n        backgroundColor: bgColor\n      },\n      children: children\n    })]\n  });\n};\n\nexport default Window;","map":null,"metadata":{},"sourceType":"module"}