{"ast":null,"code":"import { MAXIMIZE_ANIMATION_SPEED_IN_SECONDS, MILLISECONDS_IN_SECOND } from '@/utils/constants';\nimport { useEffect, useState } from 'react';\n\nconst useOdf = ({\n  odfElementRef,\n  url\n}) => {\n  const {\n    0: odfLib,\n    1: setOdfLib\n  } = useState(null);\n  useEffect(() => {\n    const lib = document.createElement('script');\n    lib.src = '/libs/webodf.js';\n    lib.type = 'text/javascript';\n\n    lib.onload = () => {\n      const {\n        current: odfCanvasElement\n      } = odfElementRef;\n\n      if (odfCanvasElement) {\n        setTimeout(() => {\n          const newOdfLib = new window.odf.OdfCanvas(odfCanvasElement);\n          newOdfLib.load(url);\n          setOdfLib(newOdfLib);\n        }, MAXIMIZE_ANIMATION_SPEED_IN_SECONDS * MILLISECONDS_IN_SECOND);\n      }\n    };\n\n    document.head.appendChild(lib);\n    return () => {\n      document.head.removeChild(lib);\n    };\n  }, []);\n  return odfLib;\n};\n\nexport default useOdf;","map":null,"metadata":{},"sourceType":"module"}